<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>javascript node 활용2(오브젝트 이동)</title>
</head>
<style>
	.banner{
		width:100px;
		height: 100px;
		border:1px solid black;
		margin:0 auto;
		position: relative;
		overflow:hidden;
		
	}
	 .ulcss{
      width:400px;
      height:inherit;
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction:row;
      justify-content: flex-start;
      position:absolute;
      /* css에 transition 적용시 지속적으로 애니메이션이 작동 */
   }
   
	.ulcss>li{
		width:100px;
		height: 100px; 
	}

	
</style>
<body>
	<div class="banner">
		<ul id="ulcss" class="ulcss">
			<li style="background-color: red;" data-url="http://naver.com" data-money="5000" onclick="bn.click(this.dataset)">1</li>
			<li style="background-color: orange;" data-url="http://nate.com" onclick="bn.click(this.dataset)">2</li>
         	<li style="background-color: yellow;" data-url="http://google.com" onclick="bn.click(this.dataset)">3</li>
         	<li style="background-color: green;" data-url="http://daum.net" onclick="bn.click(this.dataset)">4</li>	
		</ul>
	</div>
	
	<input type="button" value="left" onclick ="bn.leftbtn()">
	<input type="button" value="right" onclick ="bn.rightbtn()">
	
</body>
<script>
	var bn=new abc();
	function abc(){
		var node = document.getElementById("ulcss");
		var cpnode;
		var part;
		var ck=false;	//기본값:false
		
	     this.click = function(a){
	         location.href = a.url;
	         //console.log(a.url);
	         //location.href=a.getAttribute("data");
	      }
		
		
		//연속클릭시 jquery => stop()와 같은 효과 함수만들기

		this.leftbtn = function () {
			if(ck==false){
				ck=true;
				
			//left 배너 : 노드복사 ->ul li크기만큼 잡아당김 ->노드삭제 ->노드붙여넣기 ->애니메이션 순서
			
			//노드복사
			cpnode=node.lastElementChild.cloneNode(true);
			//부모 노드를 배너 크기만큼 잡아당김
			node.style.left="-100px";
			//맨 마지막 노드를 삭제
			node.removeChild(node.lastElementChild);
			//복사된 노드를 부모기준 첫번째 노드로 추가
			node.insertBefore(cpnode,node.children[0]);
			
			//애니메이션 발동		
			node.style.transition = "transform 1s ease";
			node.style.transform = "translate(100px,0)";
			//시간타이머작동
			setTimeout(this.timer,1000);
			part="left";
			}
		}
		
		this.rightbtn = function () {
			if(ck==false){
			ck=true;
			//li 하나의 크기만큼 ul을 잡아당김
			
			//애니메이션발동
			node.style.transition = "transform 1s ease";
			node.style.transform = "translate(-100px,0)";	//"translateX(100px)";
			//시간타이머작동
			setTimeout(this.timer,1000);
			part="right";
			}
		}
		this.timer=function(){
			if(part=="right"){
				//노드복사
				cpnode = node.firstElementChild.cloneNode(true);
				//첫번째노드를삭제
				node.removeChild(node.firstElementChild);
				//첫번째노드를 맨마지막으로 추가
				node.append(cpnode);
				node.style = "";
				ck=false;
			}
			else if(part=="left"){
				node.style="";
				ck=false;
			}
		}
	}
</script>
</html>