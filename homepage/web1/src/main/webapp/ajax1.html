<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CORS - Ajax 활용편</title>
<!-- 
	외부서버 json -> XMLHttprequest 사용 X
 -->
</head>
<style>
	.box{
		width: 700px;
		height: 700px;
		border:1px solid black;
	}
	.ulcss{
		margin:0;
		padding:0;
		width: 700px;
		height:50px;
		display: flex;
		flex-direction: row;
		justify-content:flex-start;
		list-style: none;
	}
	.ulcss>li{
		width:200px;
		height: inherit;
		
	}
</style>
<body>
	<p>서울 특별시 서대문구 인구 수 조사결과 표</p>
	<div class="box" id="box">
	<!--  
		<ul class="ulcss">
			<li>동 명: </li>
			<li>총 인구 수 : </li>
			<li>남성 : </li>
			<li>여성 : </li>
		</ul>
	-->
	</div>
</body>
<script>
var box=document.getElementById("box");
	function person(json){	//json파일을 인수값으로 받아서 처리(키이름=함수명)
		//console.log(json["data"].length);
		json["data"].forEach(function (a1,a2,a3){
			//console.log(a1);
			//console.log(a1["동명"]);
			console.log(a1["남"]+a1["여"]);
			//console.log(a1["남"]);
			//console.log(a1["여"]);
			var html = document.createElement("ul");
			html.className="ulcss";
			var html1 = document.createElement("li");
			var text1 = document.createTextNode("동 명 :"+a1["동명"]);
			
			var html2 = document.createElement("li");
			var sum=a1["남"]+a1["여"];
			var text2 = document.createTextNode("총 인구 수 :"+sum.toLocaleString()+" 명");
			
			var html3 = document.createElement("li");
			var text3 = document.createTextNode("남성 :"+a1["남"].toLocaleString()+" 명");
			
			var html4 = document.createElement("li");
			var text4 = document.createTextNode("여성 :"+a1["여"].toLocaleString()+" 명");
			
			html1.append(text1);
			html.append(html1);
			
			html2.append(text2);
			html.append(html2);
			
			html3.append(text3);
			html.append(html3);
			
			html4.append(text4);
			html.append(html4);
			
			
			box.insertBefore(html,box.children[0]);
			
		});	
	}
</script>
<script src="http://soeun0415.dothome.co.kr/db/response_acclist1.json?callback=person"></script>

</html>